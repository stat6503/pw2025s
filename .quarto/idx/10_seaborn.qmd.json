{"title":"10.1. Seaborn","markdown":{"yaml":{"jupyter":"python3"},"headingText":"10.1. Seaborn","containsRefs":false,"markdown":"\n\n<h1>10. Seaborn</h1>\n<br>\n\n+ Seaborn\n  + Matplotlib 라이브러리를 기반으로 개발된 고급 통계 데이터 시각화 라이브러리\n  + 다양한 테마와 통계 그래프를 지원하며, 시각적으로 세련된 그래프를 쉽게 생성할 수 있음\n  + Matplotlib 라이브러리에 의존하므로, 사용 시 함께 불러와야 함\n\n<br>\n\n+ \\[실습 데이터\\]\n  + 공공데이터포털에서 제공하는 2020년 국민건강보험공단 건강검진 정보\n  + [health_2020.csv](./data/health_2020.csv)\n\n<br>\n\n|변수|설명|\n|:---:|:------------|\n|gender|성별 코드 (남자: 1, 여자: 2)|\n|height|키 (5cm 단위)|\n|weight|몸무기 (5cm 단위)|\n|waist|허리둘레|\n|systolic|수축기 혈압|\n|diastolic|이완기 혈압|\n|cholesterol|총콜레스테롤|\n|HDL|HDL 콜레스테롤|\n|LDL|LDL 콜레스테롤|\n|smoking|흡연 상태 (비흡연: 1, 과거 흡연: 2, 현재 흡연: 3)|\n|drinking|음주 여부 (비음주: 0, 음주: 1)|\n\n<br>\n\n## 10.2. 막대 그래프\n\n<br>\n\n```{python}\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n\n```{python}\n## 실습 데이터 : health_2020 데이터셋\ndata = pd.read_csv('./data/health_2020.csv')\nprint(data.head())\n```\n\n```{python}\n## 라벨 매핑(label mapping)\n# replace() 함수는 명시되지 않은 값을 그대로 유지하지만,\n# map() 함수는 명시되지 않은 값을 NaN으로 처리함\ndata6 = data.copy()\ndata6 = data6.loc[:, ['gender', 'height', 'weight', 'waist', 'drinking', 'smoking']]\ndata6['gender'] = data['gender'].replace({1: 'M', 2: 'F'})\ndata6['drinking'] = data['drinking'].replace({0: 'Non-drinking', 1: 'Drinking'})\ndata6['smoking'] = data['smoking'].replace({1: 'Non-smoking', 2: 'Quit-smoking', 3: 'Smoking'})\nprint(data6.head())\n```\n\n```{python}\n# 성별 음주 여부별 빈도\ndrinking = data6.groupby(['gender', 'drinking'])['drinking'].count()\ndrinking = drinking.to_frame(name='count')\ndrinking = drinking.reset_index()\nprint(drinking)\n```\n\n```{python}\n# 성별 흡연 상태별 빈도\nsmoking = data6.groupby(['gender', 'smoking'])['smoking'].count()\nsmoking = smoking.to_frame(name='count')\nsmoking = smoking.reset_index()\nprint(smoking)\n```\n\n```{python}\n# 막대 그래프1 : 성별에 따른 음주 여부, 흡연 상태 분포\nfig = plt.figure(figsize=(6, 4))\narea1 = fig.add_subplot(1, 2, 1)\narea2 = fig.add_subplot(1, 2, 2)\n\nax1 = sns.barplot(x='gender', y='count', hue='drinking', data=drinking, ax=area1)\nax2 = sns.barplot(x='gender', y='count', hue='smoking', data=smoking, ax=area2)\n\nfig.suptitle('2020 Health Check Drinking & Smoking Type by Gender', fontweight='bold')\narea1.set_title('Drinking Type')\narea2.set_title('Smoking Type')\nplt.tight_layout(rect=[0, 0, 1, 0.99])\nplt.show()\n```\n\n```{python}\n# 성별 흡연 상태별 평균 몸무게\nmean_weight = data6.groupby(['gender', 'smoking'])['weight'].mean()\nmean_weight = mean_weight.to_frame(name='mean')\nmean_weight = mean_weight.reset_index()\nprint(mean_weight)\n```\n\n```{python}\n# 막대 그래프2 : 성별과 흡연 상태에 따른 평균 몸무게\nplt.figure(figsize=(5, 3))\nsns.barplot(x='gender', y='mean', hue='smoking', data=mean_weight)\nplt.show()\n```\n\n<br>\n\n## 10.3. 히스토그램\n\n<br>\n\n```{python}\n# 성별에 따라 데이터 분리\nmaledata = data6.copy()\nmaledata = maledata.loc[maledata['gender']=='M',:]\n\nfemaledata = data6.copy()\nfemaledata = femaledata.loc[femaledata['gender']=='F',:]\n```\n\n```{python}\n# 히스토그램1 : 성별에 따른 몸무게 분포\nplt.figure(figsize=(5, 3))\nplt.title('Distribution of Weight')\nsns.histplot(maledata['weight'], bins=8, alpha=0.5, label='Male')\nsns.histplot(femaledata['weight'], bins=8, alpha=0.5, label='Female', color='r')\nplt.xlim(20, 130)\nplt.xlabel('weight')\nplt.ylabel('count')\nplt.legend()\nplt.show()\n```\n\n```{python}\n# 히스토그램 & 커널 밀도 추정(KDE) : 성별에 따른 허리둘레 분포\nplt.figure(figsize=(5, 3))\nplt.title('Distribution of Waist with KDE')\nsns.histplot(maledata['waist'], bins=7, alpha=0.5, label='Male', kde=True)\nsns.histplot(femaledata['waist'], bins=7, alpha=0.5, label='Female', color='r', kde=True)\nplt.xlim(40,130)\nplt.xlabel('waist')\nplt.ylabel('count')\nplt.legend()\nplt.show()\n```\n\n<br>\n\n## 10.4. 상자그림\n\n```{python}\n# 상자그림1 : 성별 및 음주 여부에 따른 몸무게 분포\nplt.figure(figsize=(6, 4))\nplt.title('Weight By Gender and Drinking')\nsns.boxplot(x='gender', y='weight', hue='drinking', width=0.7, gap = 0.1, data=data6)\nplt.show()\n```\n\n```{python}\n# 상자그림2 : 성별 및 흡연 상태에 따른 몸무게 분포\nplt.figure(figsize=(6, 6))\nplt.title('Weight By Gender and Smoking')\nsns.boxplot(x='weight', y='gender', hue='smoking', width=0.7, gap=0.1, data=data6, orient='h')\nplt.show()\n```\n\n<br>\n\n## 10.5. 카운트 플롯(count plot)\n- 범주형 변수의 각 항목별 빈도를 막대 그래프로 표현함\n- 데이터의 범주별 분포를 직관적으로 파악할 수 있음\n\n<br>\n\n```{python}\n# 카운트 플롯1 : 음주 여부에 따른 성별 분포\nplt.figure(figsize=(5, 3))\nplt.title('Gender and Drinking')\nsns.countplot(x='drinking', hue='gender', data=data6)\nplt.xlabel('')\nplt.show()\n```\n\n```{python}\n#| scrolled: true\n# 카운트 플롯2 : 흡연 상태에 따른 성별 분포\nplt.figure(figsize=(5, 3))\nplt.title('Gender and Smoking')\nsns.countplot(y='smoking', hue='gender',\n              data=data6, order=['Smoking', 'Quit-smoking', 'Non-smoking'])\nplt.ylabel('')\nplt.show()\n```\n\n<br>\n\n## 10.6. 히트맵(heatmap)\n- 행과 열로 이루어진 2차원 행렬 데이터를 색상으로 시각화함\n- 두 범주형 변수 간의 관계나 상관관계를 나타낼 때 사용\n- 색상의 강도를 통해 값의 크기를 비교할 수 있음\n- (예) 상관행렬, 교차표 등\n\n<br>\n\n```{python}\n# 8개 건강 지표 선택\ndata8 = data.copy()\ndata8 = data8.loc[:, ['height', 'weight', 'waist',\n                      'systolic', 'diastolic', 'cholesterol', 'HDL', 'LDL']]\n```\n\n```{python}\n# 히트맵 : 8개의 건강 지표 간 상관관계\ncorrelation_data8 = data8.corr()\nupp_mat = np.triu(correlation_data8)\n\nplt.figure(figsize=(8, 6))\nplt.title('Correlation Heatmap')\nsns.heatmap(correlation_data8, annot=True, mask=upp_mat, cmap='seismic', vmin=-1, vmax=1)\nplt.xticks(rotation=45)\nplt.show()\n```\n\n","srcMarkdownNoYaml":"\n\n<h1>10. Seaborn</h1>\n<br>\n\n## 10.1. Seaborn\n+ Seaborn\n  + Matplotlib 라이브러리를 기반으로 개발된 고급 통계 데이터 시각화 라이브러리\n  + 다양한 테마와 통계 그래프를 지원하며, 시각적으로 세련된 그래프를 쉽게 생성할 수 있음\n  + Matplotlib 라이브러리에 의존하므로, 사용 시 함께 불러와야 함\n\n<br>\n\n+ \\[실습 데이터\\]\n  + 공공데이터포털에서 제공하는 2020년 국민건강보험공단 건강검진 정보\n  + [health_2020.csv](./data/health_2020.csv)\n\n<br>\n\n|변수|설명|\n|:---:|:------------|\n|gender|성별 코드 (남자: 1, 여자: 2)|\n|height|키 (5cm 단위)|\n|weight|몸무기 (5cm 단위)|\n|waist|허리둘레|\n|systolic|수축기 혈압|\n|diastolic|이완기 혈압|\n|cholesterol|총콜레스테롤|\n|HDL|HDL 콜레스테롤|\n|LDL|LDL 콜레스테롤|\n|smoking|흡연 상태 (비흡연: 1, 과거 흡연: 2, 현재 흡연: 3)|\n|drinking|음주 여부 (비음주: 0, 음주: 1)|\n\n<br>\n\n## 10.2. 막대 그래프\n\n<br>\n\n```{python}\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n\n```{python}\n## 실습 데이터 : health_2020 데이터셋\ndata = pd.read_csv('./data/health_2020.csv')\nprint(data.head())\n```\n\n```{python}\n## 라벨 매핑(label mapping)\n# replace() 함수는 명시되지 않은 값을 그대로 유지하지만,\n# map() 함수는 명시되지 않은 값을 NaN으로 처리함\ndata6 = data.copy()\ndata6 = data6.loc[:, ['gender', 'height', 'weight', 'waist', 'drinking', 'smoking']]\ndata6['gender'] = data['gender'].replace({1: 'M', 2: 'F'})\ndata6['drinking'] = data['drinking'].replace({0: 'Non-drinking', 1: 'Drinking'})\ndata6['smoking'] = data['smoking'].replace({1: 'Non-smoking', 2: 'Quit-smoking', 3: 'Smoking'})\nprint(data6.head())\n```\n\n```{python}\n# 성별 음주 여부별 빈도\ndrinking = data6.groupby(['gender', 'drinking'])['drinking'].count()\ndrinking = drinking.to_frame(name='count')\ndrinking = drinking.reset_index()\nprint(drinking)\n```\n\n```{python}\n# 성별 흡연 상태별 빈도\nsmoking = data6.groupby(['gender', 'smoking'])['smoking'].count()\nsmoking = smoking.to_frame(name='count')\nsmoking = smoking.reset_index()\nprint(smoking)\n```\n\n```{python}\n# 막대 그래프1 : 성별에 따른 음주 여부, 흡연 상태 분포\nfig = plt.figure(figsize=(6, 4))\narea1 = fig.add_subplot(1, 2, 1)\narea2 = fig.add_subplot(1, 2, 2)\n\nax1 = sns.barplot(x='gender', y='count', hue='drinking', data=drinking, ax=area1)\nax2 = sns.barplot(x='gender', y='count', hue='smoking', data=smoking, ax=area2)\n\nfig.suptitle('2020 Health Check Drinking & Smoking Type by Gender', fontweight='bold')\narea1.set_title('Drinking Type')\narea2.set_title('Smoking Type')\nplt.tight_layout(rect=[0, 0, 1, 0.99])\nplt.show()\n```\n\n```{python}\n# 성별 흡연 상태별 평균 몸무게\nmean_weight = data6.groupby(['gender', 'smoking'])['weight'].mean()\nmean_weight = mean_weight.to_frame(name='mean')\nmean_weight = mean_weight.reset_index()\nprint(mean_weight)\n```\n\n```{python}\n# 막대 그래프2 : 성별과 흡연 상태에 따른 평균 몸무게\nplt.figure(figsize=(5, 3))\nsns.barplot(x='gender', y='mean', hue='smoking', data=mean_weight)\nplt.show()\n```\n\n<br>\n\n## 10.3. 히스토그램\n\n<br>\n\n```{python}\n# 성별에 따라 데이터 분리\nmaledata = data6.copy()\nmaledata = maledata.loc[maledata['gender']=='M',:]\n\nfemaledata = data6.copy()\nfemaledata = femaledata.loc[femaledata['gender']=='F',:]\n```\n\n```{python}\n# 히스토그램1 : 성별에 따른 몸무게 분포\nplt.figure(figsize=(5, 3))\nplt.title('Distribution of Weight')\nsns.histplot(maledata['weight'], bins=8, alpha=0.5, label='Male')\nsns.histplot(femaledata['weight'], bins=8, alpha=0.5, label='Female', color='r')\nplt.xlim(20, 130)\nplt.xlabel('weight')\nplt.ylabel('count')\nplt.legend()\nplt.show()\n```\n\n```{python}\n# 히스토그램 & 커널 밀도 추정(KDE) : 성별에 따른 허리둘레 분포\nplt.figure(figsize=(5, 3))\nplt.title('Distribution of Waist with KDE')\nsns.histplot(maledata['waist'], bins=7, alpha=0.5, label='Male', kde=True)\nsns.histplot(femaledata['waist'], bins=7, alpha=0.5, label='Female', color='r', kde=True)\nplt.xlim(40,130)\nplt.xlabel('waist')\nplt.ylabel('count')\nplt.legend()\nplt.show()\n```\n\n<br>\n\n## 10.4. 상자그림\n\n```{python}\n# 상자그림1 : 성별 및 음주 여부에 따른 몸무게 분포\nplt.figure(figsize=(6, 4))\nplt.title('Weight By Gender and Drinking')\nsns.boxplot(x='gender', y='weight', hue='drinking', width=0.7, gap = 0.1, data=data6)\nplt.show()\n```\n\n```{python}\n# 상자그림2 : 성별 및 흡연 상태에 따른 몸무게 분포\nplt.figure(figsize=(6, 6))\nplt.title('Weight By Gender and Smoking')\nsns.boxplot(x='weight', y='gender', hue='smoking', width=0.7, gap=0.1, data=data6, orient='h')\nplt.show()\n```\n\n<br>\n\n## 10.5. 카운트 플롯(count plot)\n- 범주형 변수의 각 항목별 빈도를 막대 그래프로 표현함\n- 데이터의 범주별 분포를 직관적으로 파악할 수 있음\n\n<br>\n\n```{python}\n# 카운트 플롯1 : 음주 여부에 따른 성별 분포\nplt.figure(figsize=(5, 3))\nplt.title('Gender and Drinking')\nsns.countplot(x='drinking', hue='gender', data=data6)\nplt.xlabel('')\nplt.show()\n```\n\n```{python}\n#| scrolled: true\n# 카운트 플롯2 : 흡연 상태에 따른 성별 분포\nplt.figure(figsize=(5, 3))\nplt.title('Gender and Smoking')\nsns.countplot(y='smoking', hue='gender',\n              data=data6, order=['Smoking', 'Quit-smoking', 'Non-smoking'])\nplt.ylabel('')\nplt.show()\n```\n\n<br>\n\n## 10.6. 히트맵(heatmap)\n- 행과 열로 이루어진 2차원 행렬 데이터를 색상으로 시각화함\n- 두 범주형 변수 간의 관계나 상관관계를 나타낼 때 사용\n- 색상의 강도를 통해 값의 크기를 비교할 수 있음\n- (예) 상관행렬, 교차표 등\n\n<br>\n\n```{python}\n# 8개 건강 지표 선택\ndata8 = data.copy()\ndata8 = data8.loc[:, ['height', 'weight', 'waist',\n                      'systolic', 'diastolic', 'cholesterol', 'HDL', 'LDL']]\n```\n\n```{python}\n# 히트맵 : 8개의 건강 지표 간 상관관계\ncorrelation_data8 = data8.corr()\nupp_mat = np.triu(correlation_data8)\n\nplt.figure(figsize=(8, 6))\nplt.title('Correlation Heatmap')\nsns.heatmap(correlation_data8, annot=True, mask=upp_mat, cmap='seismic', vmin=-1, vmax=1)\nplt.xticks(rotation=45)\nplt.show()\n```\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"10_seaborn.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","theme":["simplex"],"toc-location":"right","toc-expand":true,"jupyter":"python3"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}